<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Crostini MPRIS Bridge Panel</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <main>
      <h1>Crostini MPRIS 媒体同步窗口</h1>
      <section>
        <p style="margin: 0; font-size: 12px; line-height: 1.5">
          这个窗口保持打开时，会将 Crostini 播放状态同步到 ChromeOS 媒体中心，并接管媒体键控制。
        </p>
      </section>

      <section>
        <div>Health: <span id="health">idle</span></div>
        <label>
          Base URL
          <input id="baseUrl" type="text" placeholder="http://penguin.linux.test:5000" />
        </label>
        <label>
          播放器选择模式
          <select id="playerMode">
            <option value="auto">自动（优先活跃播放器）</option>
            <option value="manual">手动指定</option>
          </select>
        </label>
        <label>
          指定播放器
          <select id="playerSelect">
            <option value="">(未发现播放器)</option>
          </select>
        </label>
        <div class="row">
          <button id="saveBaseUrl">保存地址</button>
          <button id="ping">测试 /healthz</button>
        </div>
      </section>

      <section>
        <h2>状态</h2>
        <div id="status" class="panel">暂无状态</div>
      </section>

      <section>
        <div class="row between">
          <h2>日志</h2>
          <button id="clearLogs">清空</button>
        </div>
        <pre id="logs" class="panel">(no logs)</pre>
      </section>
    </main>
    <script type="module" src="panel.js"></script>
  </body>
</html>
